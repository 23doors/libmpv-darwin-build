diff --git a/libavcodec/allcodecs.c b/libavcodec/allcodecs.c
index aa0fc47647..b6e2abf04d 100644
--- a/libavcodec/allcodecs.c
+++ b/libavcodec/allcodecs.c
@@ -892,6 +892,7 @@ extern const FFCodec ff_vp9_mediacodec_decoder;
 extern const FFCodec ff_vp9_mediacodec_encoder;
 extern const FFCodec ff_vp9_qsv_decoder;
 extern const FFCodec ff_vp9_vaapi_encoder;
+extern const FFCodec ff_vp9_videotoolbox_decoder;
 extern const FFCodec ff_vp9_qsv_encoder;
 extern const FFCodec ff_vvc_qsv_decoder;

diff --git a/libavcodec/vp9.c b/libavcodec/vp9.c
index 8ede2e2eb3..248958bb64 100644
--- a/libavcodec/vp9.c
+++ b/libavcodec/vp9.c
@@ -1868,6 +1868,35 @@ const FFCodec ff_vp9_decoder = {
 #if CONFIG_VP9_VDPAU_HWACCEL
                                HWACCEL_VDPAU(vp9),
 #endif
+                               NULL
+                           },
+};
+
+const FFCodec ff_vp9_videotoolbox_decoder = {
+    .p.name                = "vp9_videotoolbox",
+    CODEC_LONG_NAME("VideoToolbox Google VP9"),
+    .p.type                = AVMEDIA_TYPE_VIDEO,
+    .p.id                  = AV_CODEC_ID_VP9,
+    .priv_data_size        = sizeof(VP9Context),
+    .init                  = vp9_decode_init,
+    .close                 = vp9_decode_free,
+    FF_CODEC_DECODE_CB(vp9_decode_frame),
+    .p.capabilities        = AV_CODEC_CAP_DR1 | AV_CODEC_CAP_FRAME_THREADS | AV_CODEC_CAP_SLICE_THREADS,
+    .caps_internal         = FF_CODEC_CAP_INIT_CLEANUP |
+                             FF_CODEC_CAP_SLICE_THREAD_HAS_MF |
+                             FF_CODEC_CAP_USES_PROGRESSFRAMES,
+    .flush                 = vp9_decode_flush,
+    UPDATE_THREAD_CONTEXT(vp9_decode_update_thread_context),
+    .p.profiles            = NULL_IF_CONFIG_SMALL(ff_vp9_profiles),
+#if ARCH_X86_64
+    /* @low-batt: Video Toolbox requires VP9 invisible (alt-ref) frames be merged into VP9 superframes when running on Intel
+     * based Macs. Violation of this requirement will cause Video Toolbox to hang due to defective error handing
+     * in VTDecompressionSessionDecodeFrame. See FFmpeg ticket #9599. */
+    .bsfs                  = "vp9_superframe",
+#else
+    .bsfs                  = "vp9_superframe_split",
+#endif
+    .hw_configs            = (const AVCodecHWConfigInternal *const []) {
 #if CONFIG_VP9_VIDEOTOOLBOX_HWACCEL
                                HWACCEL_VIDEOTOOLBOX(vp9),
 #endif
